document.addEventListener("DOMContentLoaded",()=>{const themeToggle=document.getElementById("theme-toggle");const html=document.documentElement;html.classList.add("theme-transition");if(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches){html.classList.add("dark")}else{html.classList.remove("dark")}themeToggle.addEventListener("click",()=>{html.classList.add("theme-transition");html.classList.toggle("dark");localStorage.theme=html.classList.contains("dark")?"dark":"light";setTimeout(()=>{html.classList.remove("theme-transition")},300)});const mobileMenuButton=document.getElementById("mobile-menu-button");const mobileMenuClose=document.getElementById("mobile-menu-close");const mobileMenu=document.getElementById("mobile-menu");const mobileMenuLinks=mobileMenu.getElementsByTagName("a");function toggleMobileMenu(){const isOpen=!mobileMenu.classList.contains("hidden");if(!isOpen){mobileMenu.classList.remove("hidden");mobileMenu.classList.add("animate-fadeIn");document.body.classList.add("overflow-hidden")}else{mobileMenu.classList.add("opacity-0");setTimeout(()=>{mobileMenu.classList.add("hidden");mobileMenu.classList.remove("opacity-0");document.body.classList.remove("overflow-hidden")},300)}}mobileMenuButton.addEventListener("click",toggleMobileMenu);mobileMenuClose.addEventListener("click",toggleMobileMenu);Array.from(mobileMenuLinks).forEach(link=>{link.addEventListener("click",toggleMobileMenu)});const animatedElements=document.querySelectorAll(".fade-in, .timeline-item, .section-title");const observerOptions={root:null,rootMargin:"0px",threshold:.1};const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible");const children=entry.target.querySelectorAll(".animate-text-reveal");children.forEach((child,index)=>{child.style.animationDelay=`${index*.1}s`})}})},observerOptions);animatedElements.forEach(element=>{observer.observe(element)});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));if(target){target.classList.add("highlight");setTimeout(()=>target.classList.remove("highlight"),1e3);target.scrollIntoView({behavior:"smooth",block:"start"})}})});const contactForm=document.getElementById("contact-form");contactForm.addEventListener("submit",async e=>{e.preventDefault();const submitButton=contactForm.querySelector('button[type="submit"]');const submitText=submitButton.querySelector(".submit-text");const originalText=submitText.textContent;const formInputs=contactForm.querySelectorAll("input, textarea");formInputs.forEach(input=>input.disabled=true);submitButton.disabled=true;submitButton.classList.add("btn-loading");submitText.textContent="";try{await new Promise(resolve=>setTimeout(resolve,1500));submitButton.classList.remove("btn-loading");submitButton.classList.add("bg-green-500");submitText.textContent="Message Sent!";contactForm.reset();setTimeout(()=>{submitButton.classList.remove("bg-green-500");submitText.textContent=originalText;submitButton.disabled=false;formInputs.forEach(input=>input.disabled=false)},2e3)}catch(error){submitButton.classList.remove("btn-loading");submitButton.classList.add("bg-red-500");submitText.textContent="Error! Try Again";setTimeout(()=>{submitButton.classList.remove("bg-red-500");submitText.textContent=originalText;submitButton.disabled=false;formInputs.forEach(input=>input.disabled=false)},2e3)}});const blogSearch=document.getElementById("blog-search");const blogPosts=document.querySelectorAll(".blog-post-card");let searchTimeout;function searchBlogPosts(searchTerm){const searchTermLower=searchTerm.toLowerCase();blogPosts.forEach(post=>{post.classList.add("loading")});clearTimeout(searchTimeout);searchTimeout=setTimeout(()=>{blogPosts.forEach(post=>{const title=post.querySelector("h3").textContent.toLowerCase();const content=post.querySelector("p:nth-of-type(2)").textContent.toLowerCase();const tags=post.dataset.tags?post.dataset.tags.toLowerCase():"";const isMatch=title.includes(searchTermLower)||content.includes(searchTermLower)||tags.includes(searchTermLower);post.classList.remove("loading");if(isMatch){post.classList.remove("opacity-0","translate-y-4");post.classList.add("opacity-100","translate-y-0")}else{post.classList.add("opacity-0","translate-y-4");post.classList.remove("opacity-100","translate-y-0")}setTimeout(()=>{post.style.display=isMatch?"block":"none"},isMatch?0:300)})},300)}blogSearch.addEventListener("input",e=>{searchBlogPosts(e.target.value)});blogPosts.forEach(post=>{post.classList.add("transition-all","duration-300","opacity-100","translate-y-0")});document.querySelectorAll(".project-card").forEach(card=>{card.addEventListener("mouseenter",()=>{card.querySelector(".project-card-content").style.transform="translateY(-8px)"});card.addEventListener("mouseleave",()=>{card.querySelector(".project-card-content").style.transform="translateY(0)"})})});